import{G as F,j as a,S as C,x as I}from"./app-Dj-x9gWf.js";import{T as p,I as i}from"./InputError-B2l-ujNv.js";import{I as x}from"./InputLabel-BAGiTGSB.js";import{P as A}from"./PrimaryButton-DS3TSvPW.js";import{S as R}from"./SecondaryButton-1Mdl9h7K.js";import{S as j}from"./SelectInput-CAO20tKw.js";import{A as $}from"./AuthenticatedLayout-DFpkwVPj.js";import"./transition-1oIjx2WC.js";import"./DarkModeToggle-BmCRQVkg.js";import"./Money-CmnXgzPo.js";function b({details:h,attributes:n}){const{data:l,setData:g,post:f,errors:t,processing:v,reset:N}=F({...h,_method:"PUT"}),k=n.DataRekening,w=n.MyBCA,y=n.Bisnis,u=n.Foto,o=e=>{const{name:s,type:r}=e.target,d=r==="file"?e.target.files[0]:e.target.value;if(g(c=>({...c,[s]:d})),r==="file"&&d&&d.type.startsWith("image/")){const c=new FileReader;c.onload=B=>{g(D=>({...D,[`${s}_preview`]:B.target.result}))},c.readAsDataURL(d)}},S=e=>{e.preventDefault(),f(route("rekening.update",h.id),{forceFormData:!0,onSuccess:()=>{N()}})},m=(e,s)=>{switch(e.type){case"select":return a.jsxs("div",{className:"mb-4 col-span-1",children:[a.jsx(x,{htmlFor:e.data,value:e.header}),a.jsxs(j,{id:e.data,name:e.data,value:l[e.data],onChange:o,children:[a.jsxs("option",{value:"",children:["Pilih ",e.header]}),e.options.map((r,d)=>a.jsx(j.Option,{value:r,children:r},d))]}),a.jsx(i,{message:t[e.data],className:"mt-2"})]},s);case"file":return a.jsxs("div",{className:"relative mb-4 col-span-3 sm:col-span-2",children:[l[e.path]&&a.jsx(x,{className:`${(l[e.path]||l[`${e.data}_preview`])&&"absolute max-w-fit"}  p-2 border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-slate-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm`,htmlFor:e.data,value:e.header}),l[`${e.data}_preview`]?a.jsx("img",{src:l[`${e.data}_preview`],alt:"Preview",className:"object-cover sm:w-full rounded-md p-2 bg-white dark:bg-slate-800"}):a.jsx("img",{src:`/storage/${l[e.path]}`,alt:e.header,className:"object-cover sm:w-full rounded-md p-2 bg-white dark:bg-slate-800"}),a.jsx(p,{id:e.data,type:"file",name:e.data,onChange:o,className:"mt-[.5rem] bg-white dark:bg-slate-800"}),a.jsx(i,{message:t[e.data],className:"mt-2"})]},s);case"text":return a.jsxs("div",{className:"mb-4 col-span-1",children:[a.jsx(x,{htmlFor:e.data,value:e.header}),a.jsx(p,{id:e.data,name:e.data,type:e.type,value:l[e.data],onChange:o,placeholder:e.header}),a.jsx(i,{message:t[e.data],className:"mt-2"})]},s);default:return a.jsxs("div",{className:"mb-4 col-span-1",children:[a.jsx(x,{htmlFor:e.data,value:e.header}),a.jsx(p,{id:e.data,name:e.data,type:e.type,value:l[e.data],onChange:o,placeholder:e.header}),a.jsx(i,{message:t[e.data],className:"mt-2"})]},s)}};return a.jsxs($,{header:a.jsxs("h2",{className:" flex flex-col font-semibold text-xl text-slate-800 dark:text-slate-200 leading-tight",children:[a.jsx("span",{children:"Edit Data"}),a.jsx("span",{className:"text-nowrap max-w-[20rem] overflow-ellipsis overflow-hidden",children:h.nama})]}),children:[a.jsx(C,{title:"Edit Data User"}),a.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 sm:my-[1rem]",children:a.jsxs("form",{className:"flex flex-col gap-4",onSubmit:S,encType:"multipart/form-data",children:[a.jsxs("div",{className:"p-6 text-slate-900 dark:text-slate-100 bg-white dark:bg-slate-800 shadow-sm sm:rounded-lg transition-all",children:[a.jsx("h2",{className:"mb-6 font-bold text-2xl text-slate-800 dark:text-slate-200 leading-tight",children:"Data Rekening"}),a.jsx("div",{className:"sm:grid grid-cols-2 gap-4",children:k.map((e,s)=>m(e,s))}),a.jsx("h2",{className:"mb-6 font-bold text-2xl text-slate-800 dark:text-slate-200 leading-tight",children:"My BCA"}),a.jsx("div",{className:"sm:grid grid-cols-2 gap-4",children:w.map((e,s)=>m(e,s))}),a.jsx("h2",{className:"mb-6 font-bold text-2xl text-slate-800 dark:text-slate-200 leading-tight",children:"Bisnis"}),a.jsx("div",{className:"sm:grid grid-cols-3 gap-4",children:y.map((e,s)=>m(e,s))})]}),a.jsxs("div",{className:"p-6 text-slate-900 dark:text-slate-100 transition-all",children:[a.jsx("h2",{className:"mb-6 font-bold text-2xl text-slate-800 dark:text-slate-200 leading-tight",children:"Foto"}),a.jsx("div",{className:"sm:grid grid-cols-4 gap-4",children:u.map((e,s)=>m(e,s))}),a.jsxs("div",{className:"flex pt-4 mt-4 gap-2 border-t-2 border-slate-600",children:[a.jsx(A,{disabled:v,type:"submit",children:"Simpan"}),a.jsx(I,{href:route("rekening.index"),as:"button",type:"button",children:a.jsx(R,{children:"Batal"})})]})]})]})})]})}export{b as default};
