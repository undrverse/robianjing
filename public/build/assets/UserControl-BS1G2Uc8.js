import{X as k,G as R,r as o,j as e,S as B,x as c,A as u}from"./app-Dj-x9gWf.js";import{A as q}from"./AuthenticatedLayout-DFpkwVPj.js";import{T as P,D as z,a as G}from"./Dots-D21ZR3sJ.js";import{M as H}from"./MessageModal-D44QWZCV.js";import{P as y}from"./PrimaryButton-DS3TSvPW.js";import{M as L}from"./Modal-BnmVe-K5.js";import{I as i}from"./InputLabel-BAGiTGSB.js";import{T as p,I as n}from"./InputError-B2l-ujNv.js";import{S as X}from"./SecondaryButton-1Mdl9h7K.js";import{C as $}from"./Money-CmnXgzPo.js";import"./transition-1oIjx2WC.js";import"./DarkModeToggle-BmCRQVkg.js";import"./formatDateToIndonesia-CSaSNsCs.js";import"./dialog-DFDsRvSU.js";function oe({users:x,attributes:N}){const w=k().props,C=k().props.auth.user.id,S=x.data.filter(s=>s.id!==C),{data:t,setData:a,processing:h,errors:r,reset:b}=R({name:"",email:"",password:"",usertype:""}),[j,v]=o.useState(""),[f,U]=o.useState(null),[D,l]=o.useState(!1),[M,d]=o.useState(!1),T={header:"Action",cell:s=>e.jsx("td",{className:"px-4  absolute top-1/2 -translate-y-1/2",children:e.jsxs("button",{onClick:()=>g(s.id),className:"relative inline-flex items-center p-0.5 text-sm font-medium text-center text-slate-500 hover:text-slate-800 rounded-lg focus:outline-none dark:text-slate-400 dark:hover:text-slate-100",type:"button",children:[e.jsx(G,{}),e.jsx("div",{className:`${f===s.id?"block":"hidden"} absolute left-[2rem] z-50 bg-white ring-2 rounded divide-y divide-slate-100 shadow dark:bg-slate-700 dark:divide-slate-600`,children:e.jsxs("ul",{className:"flex py-1 text-sm text-slate-700 dark:text-slate-200",children:[e.jsx("li",{children:e.jsx(c,{onClick:()=>g(s.id),className:"border-e-2 h-full block py-2 px-4 hover:bg-slate-100 dark:hover:bg-slate-600 dark:hover:text-white",children:e.jsx($,{})})}),e.jsx("li",{children:e.jsx(c,{onClick:m=>{m.preventDefault(),l(!0),v("edit"),a(s)},className:"text-yellow-500 hover:text-yellow-600 dark:hover:text-yellow-600 border-e-2 h-full block py-2 px-4 hover:bg-yellow-100 dark:hover:bg-yellow-100 dark:hover:bg-opacity-90",children:"Edit"})}),e.jsx("li",{children:e.jsx(c,{onClick:m=>{m.preventDefault(),d(!0),a(s)},className:"text-red-500 hover:text-red-600 h-full block py-2 px-4 hover:bg-red-100 dark:hover:bg-red-100 dark:hover:bg-opacity-90",children:"Hapus"})})]})})]})})},I=s=>{s.preventDefault(),u.post(route("UserRekening.store"),t,{onFinish:()=>{l(!1),a({}),b()}})},A=s=>{s.preventDefault(),u.put(route("UserRekening.update",t.id),t,{onFinish:()=>{l(!1),a({}),b()}})},g=s=>{U(f===s?null:s)},F=()=>{t&&u.delete(route("UserRekening.destroy",t.id)),d(!1),a({})},O=()=>e.jsx(y,{onClick:()=>{l(!0),v("create")},children:"Tambah User"}),E=[T,...N];return e.jsxs(q,{header:e.jsx("h2",{className:"font-semibold text-xl text-slate-800 dark:text-white leading-tight",children:"User Control"}),children:[e.jsx(B,{title:"User Control"}),e.jsx(H,{info:w.info}),e.jsxs(L,{show:D,children:[e.jsx("h1",{className:"dark:text-white lg:text-2xl mt-[2rem] text-center",children:t?"Edit User":"Tambah User"}),e.jsxs("form",{onSubmit:j==="create"?I:A,className:"p-6",children:[e.jsxs("div",{children:[e.jsx(i,{className:"font-extrabold",htmlFor:"name",value:"Name"}),e.jsx(p,{id:"name",name:"name",value:t.name,className:"mt-1 block w-full bg-opacity-50 dark:bg-opacity-50",autoComplete:"name",isFocused:!0,onChange:s=>a("name",s.target.value),required:!0}),e.jsx(n,{message:r.name,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(i,{className:"font-extrabold",htmlFor:"email",value:"Email"}),e.jsx(p,{id:"email",type:"email",name:"email",value:t.email,className:"mt-1 block w-full bg-opacity-50 dark:bg-opacity-50",autoComplete:"username",onChange:s=>a("email",s.target.value),required:!0}),e.jsx(n,{message:r.email,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(i,{className:"font-extrabold",htmlFor:"password",value:"Password"}),e.jsx(p,{id:"password",type:"password",name:"password",value:t.password,className:"mt-1 block w-full bg-opacity-50 dark:bg-opacity-50",autoComplete:"new-password",onChange:s=>a("password",s.target.value),required:!0}),e.jsx(n,{message:r.password,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(i,{className:"font-extrabold",htmlFor:"usertype",value:"User Type"}),e.jsxs("select",{id:"usertype",name:"usertype",value:t.usertype,className:"mt-1 block w-full rounded-md bg-white/50 dark:bg-slate-800/50 dark:text-white ",onChange:s=>a("usertype",s.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Role"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"supervisor",children:"Supervisor"}),e.jsx("option",{value:"user",children:"User"})]}),e.jsx(n,{message:r.usertype,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center justify-end mt-4",children:[e.jsx(X,{onClick:()=>{l(!1),a({})},type:"button",className:"ms-4",disabled:h,children:"Batal"}),e.jsx(y,{className:"ms-4",disabled:h,children:j==="create"?"Simpan":"Ubah"})]})]})]}),e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"sm:mt-6 bg-white dark:bg-slate-800 shadow-sm sm:rounded-lg",children:e.jsx(P,{data:S,field:x,attributes:E,TopTableRight:O()})})}),e.jsx(z,{isOpen:M,closeModal:()=>{d(!1),a({})},onConfirm:F,itemName:t==null?void 0:t.name})]})}export{oe as default};
